<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Battle - Veldorem</title>

  <link rel="stylesheet" type="text/css" href="../css/style.css">
  <script src="../js/class.js"></script>
  <script src="../js/game.js"></script>
  <script src="../js/characters.js"></script>
  <script src="../js/locations.js"></script>
  <script src="../js/object.js"></script>
  <script src="../js/battle.js"></script>
  <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

</head>

<body>
  <script>
    setLocalStorage("savedLocation", window.location.pathname.split("/").pop().split(".").join("."))
    var thisLocation = eval(getLocalStorage("currentMonster"))
  </script>
  <table id="mainTable">
    <tbody>
      <tr>
        <th>Image</th>
        <th>Battle Log</th>
      </tr>

      <tr>
        <td id="locationImage">
        </td>
        <td>
          <select class="refreshContent" size="10" style="width:100%; height:100%">
            <script>refreshContent("battleLog")</script>
          </select>
        </td>
      </tr>

      <tr>
        <th id="locationName"></th>
        <th>Player Inventory</th>
      </tr>

      <tr>
        <td id="mainContent">
          <p id="locationDescription"></p>
          <p id="locationInventory"></p>
          <table id="buttonTable">
            <tbody>
              <tr style="border:0">
                <td style="border:0">
                  <button id="battleAction" onclick="return fight('attack');">Attack</button>
                </td>
                <td style="border:0">
                  <button id="battleAction" onclick="return fight('counter')">Counter</button>
                </td>
              </tr>
              <tr style="border:0">
                <td style="border:0">
                  <div class="dropdown">
                    <button class="dropbtn" id="battleAction">Heal</button>
                    <div class="dropdown-content" id="dropdown-content">
                      <script>potionListDropdown()</script>
                    </div>
                  </div>
                </td>
                <td style="border:0">
                  <button id="battleAction" onclick="return fight('retreat')">Retreat</button>
                </td>
              </tr>
            </tbody>
          </table>
          <br>
          <div>
            <i class="fas fa-plus" style="color: black; display: inline-flex"></i><div id="playerHealth"><p id="playerHealthNumber"><div id="playerHealthBar"></div></p></div>
            <i class="fas fa-plus" style="color: black; display: inline-flex;"></i><div id="compHealth"><p id="compHealthNumber"><div id="compHealthBar" style="background: red;"></div></p></div>
          </div>
        </td>
        <td height="100%">
          <div height="100%" id="playerInventory"><script>showInventory("playerInventory")</script></div>
        </td>

      </tr>

      <tr>
        <td>
          <!-- Player Stats Table -->
          <table id="statsTable">
            <tr>
              <th colspan="2">Monster Stats</th>
            </tr>
            <tr>
              <td>
                <p>Attack Damage:&nbsp;<p style="color: red" id="monsterDamage"></p></p><br>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <!-- Player Stats Table -->
          <table id="statsTable">
            <tr>
              <th colspan="2">Player Stats</th>
            </tr>
            <tr>
              <td>
                <p>Retreat Attempts:&nbsp;<p style="color: red" id="retreatAttempts"></p></p><br>
                <p>Equiped Sword:&nbsp;<p style="color: green" id="activeSword"></p></p><br>
                <p>Equiped Armour:&nbsp;<p style="color: green" id="activeArmour"></p></p><br>
              </td>
              <td>
                <p>Attack Damage:&nbsp;<p style="color: red" id="swordDamage"></p></p><br>
                <p>Armour Protection:&nbsp;<p style="color: red" id="armourValue"></p></p><br>
                <p>Active Potions:&nbsp;<p style="color: green" id="activePotions"></p></p><br>
              </td>
            </tr>
          </table>
        </td>

      </tr>
    </tbody>
  </table>

  <script>
  initialiseBattlePage(thisLocation);
  </script>
</body>
</html>
